# ConvertKeylogApp v2.0 - TÃ i liá»‡u MÃ´ táº£ Project

## 1. GIá»šI THIá»†U Tá»”NG QUAN

### 1.1 TÃªn dá»± Ã¡n
**ConvertKeylogApp v2.0** - á»¨ng dá»¥ng chuyá»ƒn Ä‘á»•i vÃ  mÃ£ hÃ³a dá»¯ liá»‡u toÃ¡n há»c

### 1.2 Má»¥c tiÃªu
ConvertKeylogApp lÃ  má»™t á»©ng dá»¥ng desktop Ä‘Æ°á»£c phÃ¡t triá»ƒn báº±ng Python vá»›i giao diá»‡n Tkinter, Ä‘Æ°á»£c thiáº¿t káº¿ nháº±m:
- Chuyá»ƒn Ä‘á»•i cÃ¡c bÃ i toÃ¡n toÃ¡n há»c phá»©c táº¡p thÃ nh mÃ£ keylog tÆ°Æ¡ng thÃ­ch vá»›i mÃ¡y tÃ­nh khoa há»c
- Há»— trá»£ xá»­ lÃ½ hÃ ng loáº¡t dá»¯ liá»‡u thÃ´ng qua tÃ­ch há»£p Excel
- Cung cáº¥p giao diá»‡n thÃ¢n thiá»‡n vÃ  dá»… sá»­ dá»¥ng cho ngÆ°á»i dÃ¹ng cuá»‘i

### 1.3 Äá»‘i tÆ°á»£ng sá»­ dá»¥ng
- Sinh viÃªn, há»c sinh cáº§n giáº£i bÃ i táº­p toÃ¡n há»c
- GiÃ¡o viÃªn, giáº£ng viÃªn cáº§n cÃ´ng cá»¥ há»— trá»£ giáº£ng dáº¡y
- NgÆ°á»i lÃ m cÃ´ng viá»‡c ká»¹ thuáº­t cáº§n tÃ­nh toÃ¡n nhanh
- NgÆ°á»i dÃ¹ng cáº§n xá»­ lÃ½ dá»¯ liá»‡u toÃ¡n há»c hÃ ng loáº¡t

## 2. TÃNH NÄ‚NG CHÃNH

### 2.1 Geometry Mode (Cháº¿ Ä‘á»™ HÃ¬nh há»c)
**Tráº¡ng thÃ¡i**: Production Ready âœ…

**TÃ­nh nÄƒng chi tiáº¿t:**
- **5 HÃ¬nh há»c cÆ¡ báº£n Ä‘Æ°á»£c há»— trá»£:**
  - Äiá»ƒm (Point): Tá»a Ä‘á»™ 2D/3D
  - ÄÆ°á»ng tháº³ng (Line): Äiá»ƒm + Vector hÆ°á»›ng
  - Máº·t pháº³ng (Plane): PhÆ°Æ¡ng trÃ¬nh ax+by+cz+d=0
  - ÄÆ°á»ng trÃ²n (Circle): TÃ¢m + BÃ¡n kÃ­nh
  - Máº·t cáº§u (Sphere): TÃ¢m + BÃ¡n kÃ­nh

- **5 PhÃ©p toÃ¡n Ä‘Æ°á»£c há»— trá»£:**
  - TÆ°Æ¡ng giao (Intersection): TÃ¬m giao Ä‘iá»ƒm/giao tuyáº¿n
  - Khoáº£ng cÃ¡ch (Distance): TÃ­nh khoáº£ng cÃ¡ch giá»¯a cÃ¡c hÃ¬nh
  - Diá»‡n tÃ­ch (Area): TÃ­nh diá»‡n tÃ­ch hÃ¬nh pháº³ng
  - Thá»ƒ tÃ­ch (Volume): TÃ­nh thá»ƒ tÃ­ch khá»‘i
  - PhÆ°Æ¡ng trÃ¬nh Ä‘Æ°á»ng tháº³ng (Line Equation): TÃ¬m phÆ°Æ¡ng trÃ¬nh

- **Cháº¿ Ä‘á»™ xá»­ lÃ½:**
  - **Manual Mode**: Nháº­p dá»¯ liá»‡u thá»§ cÃ´ng, tÃ­nh toÃ¡n tá»«ng bÃ i
  - **Excel Mode**: Import Excel, xá»­ lÃ½ hÃ ng loáº¡t, xuáº¥t káº¿t quáº£

### 2.2 Equation Mode (Cháº¿ Ä‘á»™ PhÆ°Æ¡ng trÃ¬nh)
**Tráº¡ng thÃ¡i**: Giao diá»‡n sáºµn sÃ ng âš ï¸

**TÃ­nh nÄƒng:**
- Giáº£i há»‡ phÆ°Æ¡ng trÃ¬nh tuyáº¿n tÃ­nh 2, 3, 4 áº©n
- Há»— trá»£ biá»ƒu thá»©c phá»©c táº¡p (sin, cos, sqrt, log, ^)
- MÃ£ hÃ³a há»‡ sá»‘ tá»± Ä‘á»™ng thÃ nh keylog
- Hiá»ƒn thá»‹ nghiá»‡m vÃ  mÃ£ hÃ³a káº¿t quáº£

### 2.3 Polynomial Equation Mode (Cháº¿ Ä‘á»™ PhÆ°Æ¡ng trÃ¬nh Äa thá»©c)
**Tráº¡ng thÃ¡i**: Giao diá»‡n sáºµn sÃ ng âš ï¸

**TÃ­nh nÄƒng:**
- Giáº£i phÆ°Æ¡ng trÃ¬nh Ä‘a thá»©c báº­c 2, 3, 4
- Hiá»ƒn thá»‹ dáº¡ng chuáº©n phÆ°Æ¡ng trÃ¬nh
- TÃ¬m nghiá»‡m thá»±c vÃ  phá»©c
- MÃ£ hÃ³a keylog chuyÃªn dá»¥ng

## 3. KIáº¾N TRÃšC SYSTEM

### 3.1 Kiáº¿n trÃºc tá»•ng thá»ƒ
ConvertKeylogApp sá»­ dá»¥ng kiáº¿n trÃºc **Service-Based** vá»›i cÃ¡c layer rÃµ rÃ ng:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Presentation Layer         â”‚
â”‚        (Views - Tkinter UI)         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚           Business Logic Layer       â”‚
â”‚          (Services)                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚           Data Layer                â”‚
â”‚     (Models + Excel Processing)     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚           Configuration Layer       â”‚
â”‚        (JSON Config Files)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 Chi tiáº¿t cÃ¡c layer

**Presentation Layer** (`views/`):
- `main_view.py`: MÃ n hÃ¬nh chá»n cháº¿ Ä‘á»™ chÃ­nh
- `geometry_view.py`: Giao diá»‡n Geometry Mode (1366 dÃ²ng)
- `equation_view.py`: Giao diá»‡n Equation Mode (300 dÃ²ng)
- `polynomial_equation_view.py`: Giao diá»‡n Polynomial Mode

**Business Logic Layer** (`services/`):
- `geometry/geometry_service.py`: Core geometry processing
- `geometry/mapping_adapter.py`: LaTeX to calculator encoding
- `excel/excel_processor.py`: Excel batch processing logic

**Data Layer** (`services/geometry/models/`):
- Point, Line, Plane, Circle, Sphere models
- Relationship vÃ  operation definitions

**Configuration Layer** (`config/`):
- Mode-based configuration system
- Version-specific calculator configs
- Operation mappings vÃ  encoding rules

### 3.3 Design Patterns sá»­ dá»¥ng

1. **Service Pattern**: Logic business tÃ¡ch biá»‡t trong services
2. **Adapter Pattern**: MappingAdapter chuyá»ƒn Ä‘á»•i LaTeX sang calculator format
3. **Observer Pattern**: UI components láº¯ng nghe state changes
4. **Template Method**: Excel processing workflow cÃ³ thá»ƒ override
5. **Factory Pattern**: Táº¡o geometry models dá»±a trÃªn type

## 4. LUá»’NG HOáº T Äá»˜NG

### 4.1 Manual Mode Workflow

```
Start â†’ Chá»n Mode â†’ Chá»n Operation â†’ Chá»n Shapes â†’ 
Input Data â†’ Validate â†’ Process â†’ Generate Keylog â†’ 
Display Result â†’ Copy to Clipboard â†’ End
```

### 4.2 Excel Mode Workflow

```
Start â†’ Chá»n Mode â†’ Chá»n Operation â†’ Import Excel â†’ 
Validate File â†’ Lock Manual Inputs â†’ Process Batch â†’ 
Progress Tracking â†’ Memory Monitoring â†’ Generate Output â†’ 
Export Excel â†’ Display Summary â†’ End
```

### 4.3 Error Handling Flow

```
Error Occurred â†’ Log Error â†’ User Notification â†’ 
Cleanup Resources â†’ Reset State â†’ Ready for Next Operation
```

## 5. TECHNICAL SPECIFICATIONS

### 5.1 CÃ´ng nghá»‡ sá»­ dá»¥ng
- **Language**: Python 3.7+
- **GUI Framework**: Tkinter (built-in)
- **Excel Processing**: pandas + openpyxl
- **Memory Monitoring**: psutil
- **Math Processing**: Built-in math module + custom algorithms

### 5.2 System Requirements
- **Minimum**: Python 3.7+, 4GB RAM, 100MB disk space
- **Recommended**: Python 3.9+, 8GB RAM, 500MB disk space
- **Excel Support**: Microsoft Excel 2010+ formats (.xlsx, .xls)

### 5.3 Performance Metrics
- **Manual Mode**: <1s response time cho single calculation
- **Excel Mode**: ~100-500 rows/second tÃ¹y theo complexity
- **Memory Usage**: <500MB cho file <5MB, chunked processing cho file lá»›n hÆ¡n
- **File Size Support**: LÃ½ thuyáº¿t khÃ´ng giá»›i háº¡n vá»›i chunked processing

## 6. ARCHITECTURE DECISIONS

### 6.1 Táº¡i sao chá»n Tkinter?
- **Built-in**: KhÃ´ng cáº§n cÃ i Ä‘áº·t thÃªm dependencies
- **Cross-platform**: Cháº¡y trÃªn Windows, Linux, macOS
- **Lightweight**: PhÃ¹ há»£p cho desktop application
- **Customizable**: Äá»§ flexible cho complex UI

### 6.2 Táº¡i sao Service-Based Architecture?
- **Separation of Concerns**: UI logic tÃ¡ch biá»‡t business logic
- **Testability**: Dá»… viáº¿t unit test cho tá»«ng service
- **Maintainability**: Dá»… maintain vÃ  extend features
- **Reusability**: Services cÃ³ thá»ƒ dÃ¹ng láº¡i cho cÃ¡c UI khÃ¡c

### 6.3 Config System Design
- **Mode-based**: Má»—i mode cÃ³ config riÃªng biá»‡t
- **JSON Format**: Dá»… Ä‘á»c, dá»… edit, dá»… parse
- **Hierarchical**: Common config + mode-specific config
- **Version Support**: Multi-version calculator support

## 7. FUTURE DEVELOPMENT

### 7.1 Short-term Goals (1-3 thÃ¡ng)
- âœ… Complete Equation Mode logic integration
- âœ… Complete Polynomial Mode logic integration  
- âœ… Add comprehensive unit tests
- âœ… Performance optimization cho Excel processing
- âœ… Add more calculator versions support

### 7.2 Long-term Goals (6-12 thÃ¡ng)
- ğŸ”„ Web version vá»›i Flask/Django
- ğŸ”„ API endpoints cho third-party integration
- ğŸ”„ Database support cho lÆ°u trá»¯ history
- ğŸ”„ Plugin system cho custom operations
- ğŸ”„ Multi-language support

### 7.3 Technical Debt
- Refactor monolithic view files thÃ nh components
- Add comprehensive error logging
- Implement proper configuration validation
- Add automated testing pipeline

## 8. DEPLOYMENT & MAINTENANCE

### 8.1 Deployment Process
1. **Development**: Local development vá»›i Python virtual environment
2. **Testing**: Automated testing vá»›i pytest framework
3. **Packaging**: PyInstaller Ä‘á»ƒ táº¡o executable
4. **Distribution**: GitHub releases vá»›i pre-built binaries

### 8.2 Maintenance Strategy
- **Monthly releases** vá»›i bug fixes vÃ  minor improvements
- **Quarterly major updates** vá»›i new features
- **Community feedback** integration qua GitHub Issues
- **Backward compatibility** guarantee trong major versions

## 9. RISK ASSESSMENT

### 9.1 Technical Risks
- **Memory Issues**: Excel files quÃ¡ lá»›n cÃ³ thá»ƒ gÃ¢y crash â†’ Chunked processing
- **Font Dependency**: Flexio font cÃ³ thá»ƒ khÃ´ng cÃ³ â†’ Fallback font system
- **Cross-platform Issues**: Different OS behaviors â†’ Extensive testing

### 9.2 User Experience Risks
- **Learning Curve**: Complex UI cho new users â†’ Comprehensive documentation
- **Data Loss**: Excel processing errors â†’ Backup vÃ  validation systems
- **Performance**: Slow processing cho large files â†’ Progress tracking vÃ  optimization

## 10. SUCCESS METRICS

### 10.1 Technical Metrics
- **Code Quality**: Maintainability Index > 80
- **Test Coverage**: > 85% line coverage
- **Performance**: < 2s response time cho 95% operations
- **Memory Efficiency**: < 500MB usage cho 95% use cases

### 10.2 User Metrics
- **Ease of Use**: < 5 minutes Ä‘á»ƒ complete first calculation
- **Error Rate**: < 5% failed operations
- **User Satisfaction**: > 4.0/5.0 rating tá»« feedback
- **Adoption**: Steady growth trong target user base

---

**Document Version**: 1.0  
**Last Updated**: October 29, 2025  
**Author**: ConvertKeylogApp Development Team